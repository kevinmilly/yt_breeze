<div class="container">
  <h1 class="title">YT Breeze</h1>
  <p class="subtitle">YouTube Content Cleaner</p>

  <div class="input-card">
    <label>YouTube URL</label>
    <input type="text" [(ngModel)]="youtubeUrlValue" (ngModelChange)="onYoutubeUrlChange($event)"
      placeholder="https://youtube.com/..." />

    <label>Optional: Your OpenAI API Key</label>
    <input type="password" [(ngModel)]="userApiKeyValue" (ngModelChange)="onUserApiKeyChange($event)"
      placeholder="sk-..." />


    <button (click)="summarize()" [disabled]="loading()">
      {{ loading() ? "Summarizing..." : "Summarize Video" }}
    </button>

    <p class="error" *ngIf="error()">{{ error() }}</p>
  </div>

  <!-- RESULTS -->
 <!-- BOTTOM LINE -->
<div class="section" *ngIf="result()">
  <h3>
    Bottom Line
    <span class="info-tooltip" title="A 1–2 sentence summary of what the video is truly about.">ⓘ</span>
  </h3>

  <p>{{ result().bottom_line }}</p>

  <button class="copy-btn" (click)="copy(result().bottom_line)">Copy</button>
</div>


<!-- KEY POINTS -->
<div class="section" *ngIf="result()">
  <h3>
    Key Points
    <span class="info-tooltip" title="The most important ideas extracted from the video.">ⓘ</span>
  </h3>

  <ul>
    <li *ngFor="let p of result().key_points">{{ p }}</li>
  </ul>

  <button class="copy-btn" (click)="copy(result().key_points.join('\n'))">Copy</button>
</div>


<!-- FLUFF LEVEL -->
<div class="section" *ngIf="result()">
  <h3>
    Fluff Level
    <span class="info-tooltip" title="Measures how much unnecessary filler the video contains. Lower = better.">ⓘ</span>
  </h3>

  <p>{{ result().fluff_level.score }}/100 — {{ result().fluff_level.summary }}</p>
</div>


<!-- CLICKBAIT ACCURACY -->
<div class="section" *ngIf="result()">
  <h3>
    Clickbait Accuracy
    <span class="info-tooltip" title="How well the video's title reflects its actual content. Lower means 'more clickbait'.">ⓘ</span>
  </h3>

  <p>{{ result().clickbait_accuracy.score }}/100 — {{ result().clickbait_accuracy.summary }}</p>
</div>


<!-- BETTER TITLE -->
<div class="section" *ngIf="result()">
  <h3>
    Better Title
    <span class="info-tooltip" title="A clearer, more accurate, or more engaging title that better represents the video.">ⓘ</span>
  </h3>

  <p>{{ result().better_title }}</p>

  <button class="copy-btn" (click)="copy(result().better_title)">Copy</button>
</div>

</div>